[mirror]
; The directory where the mirror data will be stored.
directory = <%= @mirror_root -%>

; The PyPI server which will be mirrored.
; master = https://testpypi.python.org
; scheme for PyPI server MUST be https
master = https://pypi.python.org

; The network socket timeout (in seconds) to use for all connections. This is
; set to a somewhat aggressively low value: rather fail quickly temporarily
; and re-run the client soon instead of having a process hang infinitely and
; have TCP not catching up for ages.
timeout = 10

; Number of worker threads to use for parallel downloads.
; Recommendations for worker thread setting:
; - leave the default of 3 to avoid overloading the pypi master
; - official servers located in data centers could run 20 workers
; - anything beyond 50 is probably unreasonable and avoided by bandersnatch
workers = 3

; Whether to stop a sync quickly after an error is found or whether to continue
; syncing but not marking the sync as successful. Value should be "true" or
; "false".
stop-on-error = false
<% if @daily_snapshots %>
; Package deletion turned off because we're taking snapshots and need to
; keep all packages so old snapshots keep working
delete-packages = false
<% else %>
delete-packages = true
<% end %>

[statistics]
; A glob pattern matching all access log files that should be processed to
; generate daily access statistics that will be aggregated on the master PyPI.
access-log-pattern = /var/log/apache2/pypi.*openstack.org_access.*

; vim: set ft=cfg:
